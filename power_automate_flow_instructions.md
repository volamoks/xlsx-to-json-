**Как настроить поток Power Automate для уведомлений Teams из PostgreSQL:**

Этот поток будет принимать данные о новой записи из PostgreSQL через HTTP-запрос и отправлять уведомление в Microsoft Teams.

1.  **Войдите в Power Automate:**
    *   Откройте веб-браузер и перейдите на сайт Power Automate (flow.microsoft.com).
    *   Войдите в свою учетную запись Microsoft.

2.  **Создайте новый автоматизированный облачный поток:**
    *   На левой панели навигации выберите "Мои потоки" (My flows).
    *   Нажмите кнопку "+ Новый поток" (+ New flow) в верхней части страницы.
    *   Выберите "Автоматизированный облачный поток" (Automated cloud flow).

3.  **Настройте триггер:**
    *   В поле "Имя потока" (Flow name) введите осмысленное имя, например, "Уведомления о новых продуктах в Teams".
    *   В поле "Выберите триггер потока" (Choose your flow's trigger) введите "HTTP" и выберите "При получении HTTP-запроса" (When a HTTP request is received).
    *   Нажмите "Создать" (Create).

4.  **Настройте схему JSON для триггера HTTP-запроса:**
    *   В действии "При получении HTTP-запроса" нажмите на поле "Схема JSON текста запроса" (Request Body JSON Schema).
    *   Вставьте следующую схему JSON (это пример для таблицы `products` с полями `id`, `name`, `description`). Вы можете изменить ее в соответствии с фактическими полями вашей таблицы `products`:

    ```json
    {
        "type": "object",
        "properties": {
            "id": {
                "type": "integer"
            },
            "name": {
                "type": "string"
            },
            "description": {
                "type": "string"
            }
        }
    }
    ```
    *   После вставки схемы, Power Automate сгенерирует URL HTTP POST. **Скопируйте этот URL.** Он понадобится вам для настройки триггера в PostgreSQL.

5.  **Добавьте действие "Отправить сообщение в чат или канал" (Microsoft Teams):**
    *   Нажмите "+ Новый шаг" (+ New step).
    *   В поле поиска введите "Teams" и выберите "Microsoft Teams".
    *   Выберите действие "Отправить сообщение в чат или канал" (Post a message in a chat or channel).

6.  **Настройте действие Teams:**
    *   **Тип публикации** (Post as): Выберите "Flow bot" (Бот потока).
    *   **Публиковать в** (Post in): Выберите "Канал" (Channel).
    *   **Команда** (Team): Выберите команду, в которую вы хотите отправлять уведомления.
    *   **Канал** (Channel): Выберите канал в этой команде.
    *   **Сообщение** (Message): Здесь вы можете создать сообщение, используя динамическое содержимое из HTTP-запроса. Например:
        ```
        Новый продукт добавлен!
        ID: @{triggerBody()?['id']}
        Название: @{triggerBody()?['name']}
        Описание: @{triggerBody()?['description']}
        ```
        Вы можете настроить это сообщение по своему усмотрению, используя доступные динамические поля.

7.  **Сохраните поток:**
    *   Нажмите кнопку "Сохранить" (Save) в правом верхнем углу.

8.  **Получите URL HTTP-запроса (если не скопировали ранее):**
    *   После сохранения потока вернитесь к триггеру "При получении HTTP-запроса".
    *   URL HTTP POST будет отображаться в поле "URL-адрес HTTP POST". Скопируйте его. Этот URL будет использоваться в триггере PostgreSQL для отправки данных.